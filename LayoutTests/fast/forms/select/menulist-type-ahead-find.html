<html>
<head>
<script src="../../../resources/js-test.js"></script>
<script>
window.jsTestIsAsync = true;

function recordIt()
{
    testPassed('A change event was dispatched');
    finishJSTest();
}

function testIt(ch, expected)
{
    document.getElementById("sel").focus();
    eventSender.keyDown(ch);
    if (document.getElementById("sel").selectedIndex != expected) {
        testFailed("Key input didn't change selection.");
        finishJSTest();
    }
}
</script>
</head>
<body onload="testIt('c', 2);">
<h1>WebKit Bug <a href="https://bugs.webkit.org/show_bug.cgi?id=74590">74590</a></h1>
Verify type ahead selection fires onchange event.
<ol>
<li>Set focus to select element</li>
<li>Type "c"</li>
<li>You see "cherry" in select element and "PASS" below select element.</li>
</ol>
<select id="sel" onchange="recordIt()">
    <option>apple</option>
    <option>banana</option>
    <option>cherry</option>
</select>
<div id=console></div>
</html>
