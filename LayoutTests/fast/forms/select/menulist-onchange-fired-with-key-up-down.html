<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<script src="../../../resources/js-test.js"></script>
<script>
window.jsTestIsAsync = true;

function optionChanged() {
    debug("PASS");
}

function test() {
    document.getElementById("bug-test").focus();
    if (window.eventSender) {
        debug("There should be 6 PASS lines below.");
        debug("Pressing down arrow key");
        eventSender.keyDown('downArrow');

        debug("Pressing up arrow key");
        eventSender.keyDown('upArrow');

        debug("Pressing page down key");
        eventSender.keyDown('pageDown');

        debug("Pressing page up key");
        eventSender.keyDown('pageUp');

        debug("Pressing end key");
        eventSender.keyDown('end');

        debug("Pressing home key");
        eventSender.keyDown('home');

        requestAnimationFrame(finishJSTest);
    } else {
        debug("Test manually by pressing up/down key. Should get PASS message");
        finishJSTest();
    }
}
</script>
</head>
<body onload="test()">
<p>Selecting menu list options using up/down key should fire onchange event</p>

<select id="bug-test" onChange="optionChanged()">
  <option>option 1</option>
  <option>option 2</option>
  <option>option 3</option>
  <option>option 4</option>
</select>

<div id="console"></div>
</body>
</html>
